# RsRing Mod

**版本**: 1.3.3
**Minecraft版本**: 1.12.2
**语言**: 简体中文

---

## 📖 简介

RsRing是一个功能强大的Minecraft模组，提供物品吸收戒指和经验管理系统。

### 核心功能

1. **物品吸收戒指** - 自动吸收周围掉落物到绑定的箱子
2. **经验储罐系统** - 存储和管理玩家经验
3. **经验泵控制器** - 统一管理所有经验储罐
4. **Baubles集成** - 完整支持饰品栏

---

## ✨ 主要特性

### 物品吸收戒指

- 🔄 自动吸收8格内的掉落物
- 📦 传送物品到绑定的箱子（支持跨维度）
- 🎯 黑白名单过滤系统
- ⚡ 能量驱动（最大10M FE）
- 🎮 支持背包、手持、饰品栏使用
- ⌨️ K键快速开关

### 经验储罐系统

- 💾 存储玩家经验（可升级容量）
- 🔄 三种工作模式：
  - 关闭
  - 罐→人（自动补充玩家经验）
  - 人→罐（自动抽取玩家经验）
- 📊 保留等级功能
- 🛠️ 修补模式（用于修复装备）
- 📈 可升级（1级→2级→3级...）
- 🎨 动态纹理（根据填充百分比变化）

### 经验泵控制器

- 🎛️ 统一管理所有经验储罐
- 📍 自动检测背包、手持、饰品栏中的储罐
- 🔢 精确的等级操作（存入/取出N级）
- 📊 实时显示储罐状态
- ⚙️ 批量配置所有储罐

### Baubles集成

- 💍 戒指可装备在饰品栏
- 🧪 储罐可装备在饰品栏
- ⌨️ K键切换饰品栏中的戒指
- 🎛️ 控制器可操作饰品栏中的储罐
- 🔄 完整的同步支持

---

## 🎮 使用方法

### 物品吸收戒指

1. **制作戒指**
   - 使用工作台合成

2. **绑定箱子**
   - 手持戒指
   - 蹲下（Shift）+ 右键点击箱子
   - 聊天显示"已绑定箱子位置"

3. **配置过滤**
   - 右键打开GUI
   - 将物品放入9个过滤槽
   - 点击按钮切换黑白名单模式

4. **开启功能**
   - 按K键切换开关
   - 戒指可放在背包、手持或饰品栏

5. **充能**
   - 使用任何FE充能器充电
   - 最大容量：10M FE

### 经验储罐

1. **制作储罐**
   - 使用工作台合成

2. **使用控制器**
   - 手持控制器，右键打开GUI
   - 控制器会自动检测所有储罐

3. **存入经验**
   - 点击"存入1级"或"存入全部"
   - 玩家经验转移到储罐

4. **取出经验**
   - 点击"取出1级"或"取出全部"
   - 储罐经验转移到玩家

5. **配置模式**
   - 点击"模式"按钮切换
   - 设置保留等级
   - 开启/关闭修补模式

6. **升级储罐**
   - 使用储罐 + 钻石在工作台合成
   - 容量翻倍（1000 → 2000 → 4000...）
   - 经验不会丢失

---

## ⌨️ 按键绑定

| 按键 | 功能 |
|------|------|
| K | 切换戒指开关 |
| E | 退出GUI |
| 右键 | 打开GUI（手持物品时） |
| Shift + 右键 | 绑定箱子（手持戒指时） |

---

## ⚙️ 配置

配置文件位置：`.minecraft/config/rsring/ring_config.cfg`

### 戒指配置

```properties
# 默认黑名单物品（使用物品注册名）
defaultBlacklistItems=[]

# 默认白名单物品
defaultWhitelistItems=[]

# 默认使用黑名单模式
useBlacklistModeByDefault=true

# 吸收范围（格）
absorptionRange=8

# 每个物品能量消耗（FE）
energyCostPerItem=1

# 最大能量容量（FE）
maxEnergyCapacity=10000000

# 允许自定义过滤
allowCustomFilters=true
```

配置支持热重载，修改后无需重启游戏。

---

## 🔧 技术特性

### 精确的经验计算

使用Minecraft官方经验公式：
- 0-15级：`level * (6 + level)`
- 16-30级：`level * (2.5 * level - 40.5) + 360`
- 31+级：`level * (4.5 * level - 162.5) + 2220`

### 智能物品追踪

ItemLocationTracker自动追踪物品位置：
- 主手
- 副手
- 背包
- Baubles饰品栏

### 可靠的同步机制

- Capability自动同步
- Baubles特殊处理（markDirty）
- 网络数据包同步

---

## 📋 系统要求

### 必需
- Minecraft 1.12.2
- Forge 14.23.5.2838+

### 推荐
- Baubles (用于饰品栏功能)
- JEI (查看合成配方)

### 兼容性
- ✅ 单人游戏
- ✅ 多人服务器
- ✅ 与大多数mod兼容

---

## 🐛 问题反馈

如果发现问题，请提供：

1. **问题描述** - 详细说明问题
2. **复现步骤** - 如何触发问题
3. **日志文件** - `logs/latest.log`
4. **截图/录屏** - 如果可能
5. **Mod列表** - 其他安装的mod

---

## 📚 文档

- [项目状态](PROJECT-STATUS.md) - 完整的项目状态
- [更新日志](CHANGELOG-RSRING.md) - 详细的更新记录
- [快速测试指南](QUICK-TEST-GUIDE.md) - 测试指南
- [Baubles修复](docs/Baubles-Fix-Summary.md) - Baubles集成说明

---

## 🎯 常见问题

### Q: K键没有反应？
**A**: 检查是否有其他mod占用了K键，可以在设置中重新绑定。

### Q: 控制器显示"无储罐"？
**A**: 确保储罐在背包、手持或饰品栏中，控制器会自动检测。

### Q: 经验储罐升级后经验丢失？
**A**: 这个问题已在1.0版本修复，请使用最新版本。

### Q: 戒指在饰品栏无法使用K键？
**A**: 这个问题已在1.0版本修复，确保安装了Baubles mod。

### Q: 如何配置默认黑白名单？
**A**: 编辑配置文件 `.minecraft/config/rsring/ring_config.cfg`，添加物品注册名。

---

## 🙏 致谢

- **SophisticatedBackpacks** - XP计算逻辑参考
- **Cyclic** - GUI纹理和布局参考
- **Baubles** - 饰品栏API

---

## 📜 许可证

本项目使用MIT许可证。

---

## 🔗 链接

- [GitHub仓库](#)
- [CurseForge](#)
- [问题追踪](#)

---

**享受游戏！** 🎮
