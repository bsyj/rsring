# RS Rings and Tanks

<div align="center">

**ç‰ˆæœ¬**: 1.4.0  
**Minecraft**: 1.12.2  
**Forge**: 14.23.5.2847+  
**ä½œè€…**: bsyj

[English](#english) | [ä¸­æ–‡æ–‡æ¡£](#ä¸­æ–‡æ–‡æ¡£)

</div>

---

<div id="ä¸­æ–‡æ–‡æ¡£">

## ğŸ“– é¡¹ç›®ç®€ä»‹

RS Rings and Tanks æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Minecraft 1.12.2 æ¨¡ç»„ï¼Œæä¾›æ™ºèƒ½ç‰©å“ç®¡ç†å’Œç»éªŒå­˜å‚¨ç³»ç»Ÿã€‚æ¨¡ç»„åŒ…å«ç‰©å“å¸æ”¶æˆ’æŒ‡ã€ç»éªŒå‚¨ç½ç³»ç»Ÿã€ç»éªŒæ³µæ§åˆ¶å™¨ç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œæ—¨åœ¨å¸®åŠ©ç©å®¶æ›´é«˜æ•ˆåœ°ç®¡ç†æ¸¸æˆèµ„æºã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ”„ **æ™ºèƒ½ç‰©å“å¸æ”¶** - è‡ªåŠ¨æ”¶é›†å‘¨å›´æ‰è½ç‰©ï¼Œæ”¯æŒè·¨ç»´åº¦ä¼ è¾“
- ğŸ’¾ **ç»éªŒå­˜å‚¨ç®¡ç†** - å­˜å‚¨å’Œç®¡ç†ç©å®¶ç»éªŒï¼Œæ”¯æŒå®¹é‡å‡çº§
- ğŸ›ï¸ **ç»Ÿä¸€æ§åˆ¶å™¨** - æ‰¹é‡ç®¡ç†æ‰€æœ‰ç»éªŒå‚¨ç½ï¼Œç®€åŒ–æ“ä½œæµç¨‹
- ğŸŒ **RSç½‘ç»œé›†æˆ** - ç›´æ¥ä¸Refined Storageç½‘ç»œå¯¹æ¥
- ğŸ® **é¥°å“æ æ”¯æŒ** - å®Œæ•´å…¼å®¹Baublesé¥°å“ç³»ç»Ÿ
- âš™ï¸ **é«˜åº¦å¯é…ç½®** - ä¸°å¯Œçš„é…ç½®é€‰é¡¹ï¼Œè‡ªå®šä¹‰åŠŸèƒ½è¡Œä¸º
- ğŸ”’ **æ•°æ®å®‰å…¨** - å‡çº§ä¸ä¸¢å¤±ç»éªŒï¼Œè·¨ç»´åº¦ç‰©å“ä¼ é€

---

## ğŸ® åŠŸèƒ½æ¨¡å—

### ç‰©å“å¸æ”¶æˆ’æŒ‡

**ä¸»è¦åŠŸèƒ½ï¼š**
- è‡ªåŠ¨å¸æ”¶8æ ¼å†…çš„æ‰è½ç‰©å“
- é»‘ç™½åå•è¿‡æ»¤ç³»ç»Ÿï¼ˆ9ä¸ªè¿‡æ»¤æ§½ï¼‰
- æ”¯æŒç»‘å®šåˆ°RSæ§åˆ¶å™¨å’Œæ™®é€šç®±å­
- è·¨ç»´åº¦ç‰©å“ä¼ é€
- FEèƒ½é‡é©±åŠ¨ï¼ˆæœ€å¤§10M FEï¼‰
- Ké”®å¿«é€Ÿå¼€å…³
- æ”¯æŒèƒŒåŒ…ã€æ‰‹æŒã€é¥°å“æ ä½¿ç”¨

**æŠ€æœ¯è§„æ ¼ï¼š**
- å¸æ”¶èŒƒå›´ï¼š8æ ¼ï¼ˆå¯é…ç½®ï¼‰
- å¸æ”¶é—´éš”ï¼š5 tickï¼ˆå¯é…ç½®ï¼‰
- èƒ½é‡æ¶ˆè€—ï¼š1 FE/ç‰©å“ï¼ˆå¯é…ç½®ï¼‰
- æœ€å¤§èƒ½é‡ï¼š10,000,000 FE
- è¿‡æ»¤æ§½æ•°é‡ï¼š9ä¸ª

### ç»éªŒå‚¨ç½ç³»ç»Ÿ

**å‚¨ç½ç±»å‹ï¼š**

| å‚¨ç½åç§° | å®¹é‡ | å¯å‡çº§ |
|---------|------|--------|
| ç»éªŒæ³µï¼ˆåŸºç¡€ï¼‰ | 1000 XP Ã— 2^(ç­‰çº§-1) | âœ… |
| 100çº§å‚¨ç½ | 30,970 XP | âŒ |
| 500çº§å‚¨ç½ | 1,045,970 XP | âŒ |
| 1000çº§å‚¨ç½ | 4,339,720 XP | âŒ |
| 2000çº§å‚¨ç½ | 17,677,220 XP | âŒ |

**æ ¸å¿ƒåŠŸèƒ½ï¼š**
- ä¸‰ç§å·¥ä½œæ¨¡å¼ï¼šå…³é—­ / ä»ç©å®¶æŠ½ / å‘ç©å®¶æ³¨
- è‡ªåŠ¨å¸æ”¶ç»éªŒçƒå’Œç»éªŒç“¶
- ç»éªŒä¿®è¡¥è‡ªåŠ¨ä¿®å¤è£…å¤‡
- ä¿ç•™ç­‰çº§è®¾ç½®
- æº¢å‡ºä¿æŠ¤ï¼ˆæ»¡æ—¶è½¬åŒ–ä¸ºç»éªŒç“¶ï¼‰
- åŠ¨æ€çº¹ç†æ˜¾ç¤ºï¼ˆ5ç§å¡«å……ç­‰çº§ï¼‰
- å‡çº§æ—¶ç»éªŒå®Œæ•´ä¿ç•™

**ç»éªŒè®¡ç®—å…¬å¼ï¼ˆéµå¾ªMinecraftå®˜æ–¹ï¼‰ï¼š**
- 0-15çº§ï¼š`level Ã— (12 + level Ã— 2) / 2`
- 16-30çº§ï¼š`(level-15) Ã— (69 + (level-15) Ã— 5) / 2 + 315`
- 31+çº§ï¼š`(level-30) Ã— (215 + (level-30) Ã— 9) / 2 + 1395`

### ç»éªŒæ³µæ§åˆ¶å™¨

**ç®¡ç†åŠŸèƒ½ï¼š**
- è‡ªåŠ¨æ‰«æç©å®¶èƒŒåŒ…ã€æ‰‹æŒã€Baublesé¥°å“æ ä¸­çš„æ‰€æœ‰å‚¨ç½
- ç»Ÿä¸€ç®¡ç†æœ€å¤š32ä¸ªå‚¨ç½ï¼ˆå¯é…ç½®ï¼‰
- ç²¾ç¡®çš„ç­‰çº§æ“ä½œï¼ˆå­˜å…¥/å–å‡ºNçº§ï¼‰
- é…ç½®å­˜å‚¨åœ¨æ§åˆ¶å™¨ç‰©å“NBTä¸Š
- å®æ—¶æ˜¾ç¤ºå‚¨ç½çŠ¶æ€å’Œæ€»é‡

**æ™ºèƒ½åˆ†é…ï¼š**
- æŠ½å–æ—¶ï¼šä¼˜å…ˆä½¿ç”¨ç»éªŒå¤šçš„å‚¨ç½
- æ³¨å…¥æ—¶ï¼šä¼˜å…ˆå¡«å……ç»éªŒå°‘çš„å‚¨ç½ï¼ˆæŒ‰ç™¾åˆ†æ¯”æ’åºï¼‰

---

## ğŸ“¦ å®‰è£…æŒ‡å—

### ç³»ç»Ÿè¦æ±‚

**å¿…éœ€ä¾èµ–ï¼š**
- Minecraft 1.12.2
- Forge 14.23.5.2847 æˆ–æ›´é«˜ç‰ˆæœ¬

**æ¨èä¾èµ–ï¼š**
- Baubles 1.5.2+ï¼ˆç”¨äºé¥°å“æ æ”¯æŒï¼‰
- JEI 4.16.1.1013+ï¼ˆç”¨äºé…æ–¹æ˜¾ç¤ºï¼‰
- Refined Storageï¼ˆå¯é€‰ï¼Œç”¨äºRSç½‘ç»œé›†æˆï¼‰

### å®‰è£…æ­¥éª¤

1. ç¡®ä¿å·²å®‰è£… Minecraft 1.12.2 å’Œ Forge 14.23.5.2847+
2. ä¸‹è½½ RS Rings and Tanks æ¨¡ç»„ jar æ–‡ä»¶
3. å°† jar æ–‡ä»¶æ”¾å…¥ `.minecraft/mods` ç›®å½•
4. ï¼ˆå¯é€‰ï¼‰ä¸‹è½½å¹¶å®‰è£… Baubles æ¨¡ç»„
5. å¯åŠ¨æ¸¸æˆï¼Œæ¨¡ç»„å°†è‡ªåŠ¨åŠ è½½

---

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### ç‰©å“å¸æ”¶æˆ’æŒ‡

#### 1. åˆæˆæˆ’æŒ‡
åœ¨æ¸¸æˆä¸­é€šè¿‡JEIæˆ–æŸ¥çœ‹é…æ–¹è·å–åˆæˆæ–¹æ³•ã€‚

#### 2. ç»‘å®šç®±å­/RSæ§åˆ¶å™¨
- æ‰‹æŒæˆ’æŒ‡
- è¹²ä¸‹ï¼ˆShiftï¼‰+ å³é”®ç‚¹å‡»ç®±å­æˆ–RSæ§åˆ¶å™¨
- èŠå¤©æ¡†æ˜¾ç¤ºç»‘å®šæˆåŠŸæ¶ˆæ¯å’ŒRSç½‘ç»œçŠ¶æ€ï¼ˆå¦‚é€‚ç”¨ï¼‰

#### 3. é…ç½®è¿‡æ»¤å™¨
- å³é”®æˆ’æŒ‡æ‰“å¼€GUI
- å°†ç‰©å“æ”¾å…¥9ä¸ªè¿‡æ»¤æ§½
- ç‚¹å‡»æŒ‰é’®åˆ‡æ¢é»‘ç™½åå•æ¨¡å¼
  - é»‘åå•ï¼šè¿‡æ»¤æ‰åˆ—è¡¨ä¸­çš„ç‰©å“
  - ç™½åå•ï¼šåªå¸æ”¶åˆ—è¡¨ä¸­çš„ç‰©å“

#### 4. å¼€å¯/å…³é—­åŠŸèƒ½
- æŒ‰ä¸‹ `K` é”®åˆ‡æ¢æˆ’æŒ‡å¼€å…³
- æˆ’æŒ‡å¯åœ¨èƒŒåŒ…ã€æ‰‹æŒæˆ–é¥°å“æ ä¸­ä½¿ç”¨

#### 5. å……èƒ½
- ä½¿ç”¨ä»»ä½•FEå……èƒ½å™¨ä¸ºæˆ’æŒ‡å……ç”µ
- æœ€å¤§å®¹é‡ï¼š10M FE
- ä¹Ÿå¯é€šè¿‡æ‰‹æ‘‡å……ç”µï¼šæ½œè¡Œ+å³é”®ç©ºæ°”

### ç»éªŒå‚¨ç½ç³»ç»Ÿ

#### 1. ä½¿ç”¨å‚¨ç½
- å°†å‚¨ç½æ”¾å…¥èƒŒåŒ…ã€æ‰‹æŒæˆ–é¥°å“æ 
- å‚¨ç½ä¼šè‡ªåŠ¨æ ¹æ®é…ç½®å·¥ä½œ

#### 2. ä½¿ç”¨æ§åˆ¶å™¨
- æ‰‹æŒæ§åˆ¶å™¨ï¼Œå³é”®æ‰“å¼€GUI
- æ§åˆ¶å™¨ä¼šè‡ªåŠ¨æ£€æµ‹æ‰€æœ‰å‚¨ç½å¹¶æ˜¾ç¤º

#### 3. å­˜å–ç»éªŒ
- **å­˜å…¥**ï¼šç‚¹å‡»"å­˜å…¥1çº§"æˆ–"å­˜å…¥å…¨éƒ¨"æŒ‰é’®
- **å–å‡º**ï¼šç‚¹å‡»"å–å‡º1çº§"æˆ–"å–å‡ºå…¨éƒ¨"æŒ‰é’®
- ç»éªŒä¼šåœ¨ç©å®¶å’Œå‚¨ç½ä¹‹é—´è½¬ç§»

#### 4. é…ç½®æ¨¡å¼
- ç‚¹å‡»"æ¨¡å¼"æŒ‰é’®åˆ‡æ¢å·¥ä½œæ¨¡å¼
- è®¾ç½®ä¿ç•™ç­‰çº§ï¼ˆç©å®¶æœ€å°‘ä¿ç•™çš„ç»éªŒç­‰çº§ï¼‰
- å¼€å¯/å…³é—­ä¿®è¡¥æ¨¡å¼ï¼ˆè‡ªåŠ¨ä¿®å¤è£…å¤‡ï¼‰

#### 5. å‡çº§å‚¨ç½
- ä½¿ç”¨å‚¨ç½ + é’»çŸ³åœ¨å·¥ä½œå°åˆæˆ
- å®¹é‡ç¿»å€ï¼ˆ1000 â†’ 2000 â†’ 4000...ï¼‰
- å‡çº§æ—¶ç»éªŒå®Œæ•´ä¿ç•™
- ç‰¹æ®Šå‚¨ç½ï¼ˆ100/500/1000/2000çº§ï¼‰ä¸å¯å‡çº§

---

## âŒ¨ï¸ æŒ‰é”®ç»‘å®š

| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| K | åˆ‡æ¢ç‰©å“å¸æ”¶æˆ’æŒ‡å¼€å…³ |
| E | é€€å‡ºGUI |
| å³é”® | æ‰“å¼€ç‰©å“GUIï¼ˆæ‰‹æŒç‰©å“æ—¶ï¼‰ |
| Shift + å³é”® | ç»‘å®šç®±å­/RSæ§åˆ¶å™¨ï¼ˆæ‰‹æŒæˆ’æŒ‡æ—¶ï¼‰ |

---

## âš™ï¸ é…ç½®è¯´æ˜

é…ç½®æ–‡ä»¶ä½ç½®ï¼š`.minecraft/config/rsring/`

### æˆ’æŒ‡é…ç½® (ring_config.cfg)

```properties
# é»˜è®¤é»‘åå•ç‰©å“ï¼ˆä½¿ç”¨ç‰©å“æ³¨å†Œåï¼‰
defaultBlacklistItems=[]

# é»˜è®¤ç™½åå•ç‰©å“
defaultWhitelistItems=[]

# é»˜è®¤ä½¿ç”¨é»‘åå•æ¨¡å¼
useBlacklistModeByDefault=true

# å¸æ”¶èŒƒå›´ï¼ˆæ ¼ï¼‰
absorptionRange=8

# æ¯ä¸ªç‰©å“èƒ½é‡æ¶ˆè€—ï¼ˆFEï¼‰
energyCostPerItem=1

# æœ€å¤§èƒ½é‡å®¹é‡ï¼ˆFEï¼‰
maxEnergyCapacity=10000000

# å…è®¸è‡ªå®šä¹‰è¿‡æ»¤
allowCustomFilters=true

# å¸æ”¶é—´éš”ï¼ˆtickï¼‰
absorptionInterval=5

# åˆå§‹èƒ½é‡ï¼ˆFEï¼‰
initialEnergy=0

# èƒ½é‡æ¶ˆè€—å€ç‡
energyCostMultiplier=1.0

# æ‰‹æ‘‡å……ç”µé‡
manualChargeAmount=1000
```

### ç»éªŒå‚¨ç½é…ç½® (experience_tank_config.cfg)

```properties
# å¯ç”¨ç»éªŒå‚¨ç½ç³»ç»Ÿ
enabled=true

# ç»éªŒæŠ½å–é€Ÿç‡ï¼ˆæ¯æ¬¡æœ€å¤šæŠ½å–çš„ç»éªŒå€¼ï¼‰
xpExtractionRate=20

# ç»éªŒæŠ½å–èŒƒå›´ï¼ˆæ ¼ï¼‰
xpExtractionRange=5.0

# ä»ç»éªŒç“¶ç‰©å“ä¸­æŠ½å–ç»éªŒ
extractXpBottles=true

# å¯ç”¨ä¿®è¡¥
mendingOn=true

# ä¿®è¡¥ç©å®¶ç‰©å“
mendPlayerItems=true

# å¯ç”¨æº¢å‡ºä¿æŠ¤ï¼ˆæ»¡æ—¶è½¬åŒ–ä¸ºç»éªŒç“¶ï¼‰
enableOverflowBottles=true

# å¯ç”¨è‡ªåŠ¨æ³µé€
enableAutoPumping=true

# æ³µé€é—´éš”ï¼ˆtickï¼‰
pumpingInterval=5

# ä¿®è¡¥é—´éš”ï¼ˆtickï¼‰
mendingInterval=20

# æŠ½å–é—´éš”ï¼ˆtickï¼‰
extractionInterval=4

# é»˜è®¤æ³µé€æ¨¡å¼ï¼ˆ0=å…³é—­ 1=ä»ç©å®¶æŠ½ 2=å‘ç©å®¶æ³¨ï¼‰
defaultPumpMode=0

# é»˜è®¤ä¿ç•™ç­‰çº§
defaultRetainLevel=1

# é»˜è®¤ä¿®è¡¥æ¨¡å¼
defaultMendingMode=true

# æœ€å¤§å‚¨ç½ç­‰çº§é™åˆ¶
maxTankLevelLimit=20

# å¯ç”¨ç‰¹æ®Šå‚¨ç½ï¼ˆ100/500/1000/2000çº§ï¼‰
enableSpecialTanks=true

# ç»éªŒç“¶è½¬æ¢æ•ˆç‡
xpToBottleEfficiency=1.0

# ä¿®è¡¥æ•ˆç‡
xpMendingEfficiency=1.0
```

### ç»éªŒæ³µæ§åˆ¶å™¨é…ç½® (pump_controller_config.cfg)

```properties
# æœ€å¤§ç®¡ç†å‚¨ç½æ•°
maxManagedTanks=32
```

### é…ç½®ç•Œé¢è®¿é—®

1. å¯åŠ¨æ¸¸æˆå¹¶è¿›å…¥ä¸»èœå•
2. ç‚¹å‡»"Mods"æŒ‰é’®
3. æ‰¾åˆ°"RS Rings and Tanks"æ¨¡ç»„
4. ç‚¹å‡»å³ä¾§çš„"Config"æŒ‰é’®
5. åœ¨é…ç½®ç•Œé¢ä¸­ä¿®æ”¹è®¾ç½®å¹¶ä¿å­˜

---

## ğŸ”¬ æŠ€æœ¯æ¶æ„

### è®¾è®¡æ¨¡å¼

- **å•ä¾‹æ¨¡å¼** - ExperiencePumpController, RingDetectionSystem
- **å»ºé€ è€…æ¨¡å¼** - RingDetectionResult.Builder
- **ç­–ç•¥æ¨¡å¼** - ç»éªŒæ³µçš„ä¸‰ç§å·¥ä½œæ¨¡å¼
- **è§‚å¯Ÿè€…æ¨¡å¼** - Forgeäº‹ä»¶æ€»çº¿
- **èƒ½åŠ›æ¨¡å¼** - Forge Capabilityç³»ç»Ÿ

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

| æŠ€æœ¯ç‚¹ | å®ç°æ–¹å¼ |
|--------|----------|
| æ•°æ®æŒä¹…åŒ– | NBT + Forge Capability |
| ç½‘ç»œé€šä¿¡ | SimpleNetworkWrapper |
| GUIæ¸²æŸ“ | Minecraft GUIç³»ç»Ÿ |
| é…ç½®ç®¡ç† | Forge Configuration API |
| é›†æˆæ–¹å¼ | åå°„ + @Optionalæ¥å£ |
| ç‰©å“è¿‡æ»¤ | é»‘åå•/ç™½åå• + 9æ§½GUI |
| ç»éªŒè®¡ç®— | Minecraftå®˜æ–¹å…¬å¼ |

### é¡¹ç›®ç»“æ„

```
src/main/java/com/rsring/
â”œâ”€â”€ capability/           # èƒ½åŠ›ç³»ç»Ÿå®ç°
â”‚   â”œâ”€â”€ IRsRingCapability
â”‚   â””â”€â”€ IExperiencePumpCapability
â”œâ”€â”€ client/              # GUIå’Œæ¸²æŸ“
â”‚   â”œâ”€â”€ gui/
â”‚   â””â”€â”€ render/
â”œâ”€â”€ config/              # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ RsRingConfig
â”‚   â””â”€â”€ ExperienceTankConfig
â”œâ”€â”€ crafting/            # åˆæˆé…æ–¹
â”œâ”€â”€ event/               # äº‹ä»¶å¤„ç†
â”‚   â”œâ”€â”€ CommonEventHandler
â”‚   â”œâ”€â”€ CraftingUpgradeHandler
â”‚   â””â”€â”€ InventoryChangeHandler
â”œâ”€â”€ experience/          # ç»éªŒç®¡ç†æ ¸å¿ƒ
â”‚   â”œâ”€â”€ ExperiencePumpController
â”‚   â”œâ”€â”€ ExperienceTankManager
â”‚   â””â”€â”€ TankScanResult
â”œâ”€â”€ item/                # ç‰©å“å®ç°
â”‚   â”œâ”€â”€ ItemAbsorbRing
â”‚   â”œâ”€â”€ ItemExperiencePump
â”‚   â””â”€â”€ ItemExperienceTank*
â”œâ”€â”€ network/             # ç½‘ç»œæ•°æ®åŒ…
â”œâ”€â”€ proxy/               # å®¢æˆ·ç«¯/æœåŠ¡ç«¯ä»£ç†
â”œâ”€â”€ rsring/             # ä¸»æ¨¡ç»„ç±»
â”œâ”€â”€ service/             # ç¯æ£€æµ‹æœåŠ¡
â”‚   â”œâ”€â”€ RingDetectionService
â”‚   â””â”€â”€ RingDetectionSystem
â”œâ”€â”€ baubles/            # Baublesé›†æˆ
â””â”€â”€ util/               # å·¥å…·ç±»
    â”œâ”€â”€ XpHelper
    â””â”€â”€ BaublesHelper
```

---

## ğŸ”§ å¼€å‘æŒ‡å—

### æ„å»ºé¡¹ç›®

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/bsyj/rsring.git

# æ­å»ºå¼€å‘ç¯å¢ƒ
gradlew setupDecompWorkspace

# ç”Ÿæˆé¡¹ç›®ï¼ˆEclipseï¼‰
gradlew eclipse

# æˆ–ç”ŸæˆIntelliJé¡¹ç›®
gradlew genIntellijRuns

# æ„å»ºé¡¹ç›®
gradlew build

# æ„å»ºäº§ç‰©ä½ç½®
build/libs/rsring-1.4.0.jar
```

### ä»£ç è§„èŒƒ

é¡¹ç›®éµå¾ªä»¥ä¸‹å¼€å‘è§„èŒƒï¼š
- SOLIDè®¾è®¡åŸåˆ™
- çº¿ç¨‹å®‰å…¨ï¼ˆä½¿ç”¨ConcurrentHashMapã€CopyOnWriteArrayListç­‰ï¼‰
- å®Œå–„çš„å¼‚å¸¸å¤„ç†
- æ€§èƒ½ä¼˜åŒ–ï¼ˆé¿å…é«˜å¤æ‚åº¦ç®—æ³•ã€ä½¿ç”¨ç¼“å­˜ï¼‰
- å®¢æˆ·ç«¯-æœåŠ¡å™¨å…¼å®¹æ€§ä¿è¯

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: Ké”®æ²¡æœ‰ååº”ï¼Ÿ
**A**: æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–æ¨¡ç»„å ç”¨äº†Ké”®ï¼Œå¯ä»¥åœ¨è®¾ç½®ä¸­é‡æ–°ç»‘å®šã€‚

### Q: æ§åˆ¶å™¨æ˜¾ç¤º"æ— å‚¨ç½"ï¼Ÿ
**A**: ç¡®ä¿å‚¨ç½åœ¨èƒŒåŒ…ã€æ‰‹æŒæˆ–é¥°å“æ ä¸­ï¼Œæ§åˆ¶å™¨ä¼šè‡ªåŠ¨æ£€æµ‹ã€‚

### Q: ç»éªŒå‚¨ç½å‡çº§åç»éªŒä¸¢å¤±ï¼Ÿ
**A**: è¿™ä¸ªé—®é¢˜å·²åœ¨1.1ç‰ˆæœ¬ä¿®å¤ï¼Œå‡çº§æ—¶ç»éªŒä¼šè¢«å®Œæ•´ä¿ç•™ã€‚

### Q: æˆ’æŒ‡åœ¨é¥°å“æ æ— æ³•ä½¿ç”¨Ké”®ï¼Ÿ
**A**: ç¡®ä¿å®‰è£…äº†Baublesæ¨¡ç»„1.5.2æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚

### Q: å¦‚ä½•é…ç½®é»˜è®¤é»‘ç™½åå•ï¼Ÿ
**A**: ç¼–è¾‘é…ç½®æ–‡ä»¶ `.minecraft/config/rsring/ring_config.cfg`ï¼Œæ·»åŠ ç‰©å“æ³¨å†Œåã€‚

### Q: ç»éªŒå‚¨ç½å·²æ»¡æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ
**A**: å½“ç»éªŒå‚¨ç½å·²æ»¡æ—¶ï¼Œå¦‚æœå¯ç”¨äº†æº¢å‡ºä¿æŠ¤åŠŸèƒ½ï¼Œå¤šä½™çš„ç»éªŒä¼šè½¬åŒ–ä¸ºç»éªŒç“¶æ‰è½ã€‚

### Q: ç‰©å“å¸æ”¶æˆ’æŒ‡çš„èƒ½é‡æ¶ˆè€—å¦‚ä½•è®¡ç®—ï¼Ÿ
**A**: æ¯æ¬¡ä¼ è¾“ç‰©å“æ¶ˆè€— `energyCostPerItem Ã— energyCostMultiplier` FEï¼Œå¯é…ç½®ã€‚

### Q: RSç½‘ç»œæ»¡æ—¶ç‰©å“ä¼šæ€æ ·ï¼Ÿ
**A**: RSç½‘ç»œæ»¡æ—¶ç‰©å“ä¼šä¿ç•™åœ¨åŸåœ°ï¼Œä¸ä¼šè¢«å¸æ”¶ï¼Œé¿å…ç‰©å“ä¸¢å¤±ã€‚

---

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®ä½¿ç”¨ MIT è®¸å¯è¯ã€‚

---

## ğŸ™ è‡´è°¢

- **Azanor** - Baubles æ¨¡ç»„ä½œè€…ï¼Œæä¾›äº†é¥°å“æ API
- **Lothrazar** - Cyclic æ¨¡ç»„ä½œè€…ï¼Œæä¾›äº†GUIçº¹ç†å’Œå¸ƒå±€å‚è€ƒ
- **SophisticatedBackpacks** - æä¾›äº†XPè®¡ç®—é€»è¾‘å‚è€ƒ
- **Minecraft Forge å›¢é˜Ÿ** - æä¾›äº†æ¨¡ç»„å¼€å‘æ¡†æ¶

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æ›´æ–°æ—¥å¿—](CHANGELOG-RSRING.md) - è¯¦ç»†çš„ç‰ˆæœ¬æ›´æ–°è®°å½•
- [å¿«é€Ÿæµ‹è¯•æŒ‡å—](QUICK-TEST-GUIDE.md) - æµ‹è¯•æŒ‡å—
- [é¡¹ç›®çŠ¶æ€](PROJECT-STATUS.md) - é¡¹ç›®å¼€å‘çŠ¶æ€

---

## ğŸ“® é—®é¢˜åé¦ˆ

å¦‚æœå‘ç°é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼åé¦ˆï¼š

1. **GitHub Issues** - æäº¤é—®é¢˜æŠ¥å‘Š
2. æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š
   - è¯¦ç»†çš„é—®é¢˜æè¿°
   - å¤ç°æ­¥éª¤
   - æ—¥å¿—æ–‡ä»¶ (`logs/latest.log`)
   - æˆªå›¾/å½•å±ï¼ˆå¦‚æœå¯èƒ½ï¼‰
   - æ¨¡ç»„åˆ—è¡¨

---

## ğŸ”— é“¾æ¥

- **GitHubä»“åº“**: https://github.com/bsyj/rsring
- **é—®é¢˜è¿½è¸ª**: https://github.com/bsyj/rsring/issues

---

<div align="center">

**äº«å—æ¸¸æˆï¼** ğŸ®

</div>

---

<div id="english">

---

# RS Rings and Tanks (English)

<div align="center">

**Version**: 1.4.0  
**Minecraft**: 1.12.2  
**Forge**: 14.23.5.2847+  
**Author**: bsyj

</div>

## ğŸ“– Project Overview

RS Rings and Tanks is a powerful Minecraft 1.12.2 mod that provides intelligent item management and experience storage systems. The mod includes an Item Absorb Ring, Experience Tank System, Experience Pump Controller, and more, designed to help players manage game resources more efficiently.

### âœ¨ Core Features

- ğŸ”„ **Smart Item Absorption** - Automatically collect dropped items, supports cross-dimensional transport
- ğŸ’¾ **Experience Storage Management** - Store and manage player experience, supports capacity upgrades
- ğŸ›ï¸ **Unified Controller** - Batch manage all experience tanks, simplify operations
- ğŸŒ **RS Network Integration** - Direct integration with Refined Storage network
- ğŸ® **Baubles Support** - Full compatibility with Baubles accessory system
- âš™ï¸ **Highly Configurable** - Rich configuration options, customize behavior
- ğŸ”’ **Data Safety** - Experience preserved during upgrades, cross-dimensional item transport

---

## ğŸ® Feature Modules

### Item Absorb Ring

**Main Features:**
- Automatically absorb dropped items within 8 blocks
- Black/white list filtering system (9 filter slots)
- Supports binding to RS controllers and regular chests
- Cross-dimensional item transport
- FE energy powered (max 10M FE)
- Quick toggle with K key
- Works in inventory, hand, or Baubles slots

**Technical Specs:**
- Absorption range: 8 blocks (configurable)
- Absorption interval: 5 ticks (configurable)
- Energy cost: 1 FE/item (configurable)
- Max energy: 10,000,000 FE
- Filter slots: 9

### Experience Tank System

**Tank Types:**

| Tank Name | Capacity | Upgradeable |
|-----------|----------|-------------|
| Experience Pump (Base) | 1000 XP Ã— 2^(level-1) | âœ… |
| 100 Level Tank | 30,970 XP | âŒ |
| 500 Level Tank | 1,045,970 XP | âŒ |
| 1000 Level Tank | 4,339,720 XP | âŒ |
| 2000 Level Tank | 17,677,220 XP | âŒ |

**Core Features:**
- Three working modes: Off / Extract from Player / Inject to Player
- Automatically absorb XP orbs and XP bottles
- Mending mode to auto-repair equipment
- Retain level setting
- Overflow protection (convert to bottles when full)
- Dynamic texture display (5 fill levels)
- Experience preserved during upgrades

**Experience Formula (Minecraft Official):**
- 0-15 levels: `level Ã— (12 + level Ã— 2) / 2`
- 16-30 levels: `(level-15) Ã— (69 + (level-15) Ã— 5) / 2 + 315`
- 31+ levels: `(level-30) Ã— (215 + (level-30) Ã— 9) / 2 + 1395`

### Experience Pump Controller

**Management Features:**
- Automatically scan all tanks in player inventory, hand, and Baubles slots
- Manage up to 32 tanks (configurable)
- Precise level operations (store/withdraw N levels)
- Configurations stored in controller item NBT
- Real-time display of tank status and totals

**Smart Distribution:**
- Extraction: Prioritize tanks with more XP
- Injection: Prioritize tanks with less XP (sorted by percentage)

---

## ğŸ“¦ Installation Guide

### System Requirements

**Required Dependencies:**
- Minecraft 1.12.2
- Forge 14.23.5.2847 or higher

**Recommended Dependencies:**
- Baubles 1.5.2+ (for accessory slot support)
- JEI 4.16.1.1013+ (for recipe display)
- Refined Storage (optional, for RS network integration)

### Installation Steps

1. Ensure Minecraft 1.12.2 and Forge 14.23.5.2847+ are installed
2. Download the RS Rings and Tanks mod jar file
3. Place the jar file in `.minecraft/mods` directory
4. (Optional) Download and install Baubles mod
5. Launch the game, the mod will load automatically

---

## ğŸ¯ Usage Guide

### Item Absorb Ring

#### 1. Craft the Ring
Check JEI or recipes in-game for crafting method.

#### 2. Bind Chest/RS Controller
- Hold the ring
- Sneak (Shift) + Right-click on chest or RS controller
- Chat shows bind success message and RS network status (if applicable)

#### 3. Configure Filters
- Right-click the ring to open GUI
- Place items in 9 filter slots
- Click button to switch between black/white list mode
  - Blacklist: Filter out items in the list
  - Whitelist: Only absorb items in the list

#### 4. Toggle Function
- Press `K` key to toggle ring on/off
- Ring can work in inventory, hand, or Baubles slots

#### 5. Charging
- Use any FE charger to charge the ring
- Max capacity: 10M FE
- Manual charging: Sneak + Right-click air

### Experience Tank System

#### 1. Using Tanks
- Place tank in inventory, hand, or Baubles slots
- Tank automatically works based on configuration

#### 2. Using Controller
- Hold controller, right-click to open GUI
- Controller automatically detects all tanks

#### 3. Store/Withdraw Experience
- **Store**: Click "Store 1 Level" or "Store All" button
- **Withdraw**: Click "Withdraw 1 Level" or "Withdraw All" button
- Experience transfers between player and tank

#### 4. Configure Mode
- Click "Mode" button to switch working mode
- Set retain level (minimum XP level for player)
- Toggle mending mode (auto-repair equipment)

#### 5. Upgrade Tank
- Use tank + diamond in crafting table
- Capacity doubles (1000 â†’ 2000 â†’ 4000...)
- Experience preserved during upgrade
- Special tanks (100/500/1000/2000 level) cannot be upgraded

---

## âŒ¨ï¸ Key Bindings

| Key | Function |
|-----|----------|
| K | Toggle Item Absorb Ring |
| E | Exit GUI |
| Right-click | Open item GUI (when holding item) |
| Shift + Right-click | Bind chest/RS controller (when holding ring) |

---

## âš™ï¸ Configuration

Config location: `.minecraft/config/rsring/`

### Ring Config (ring_config.cfg)

```properties
# Default blacklist items (use item registry names)
defaultBlacklistItems=[]

# Default whitelist items
defaultWhitelistItems=[]

# Default use blacklist mode
useBlacklistModeByDefault=true

# Absorption range (blocks)
absorptionRange=8

# Energy cost per item (FE)
energyCostPerItem=1

# Max energy capacity (FE)
maxEnergyCapacity=10000000

# Allow custom filters
allowCustomFilters=true

# Absorption interval (ticks)
absorptionInterval=5

# Initial energy (FE)
initialEnergy=0

# Energy cost multiplier
energyCostMultiplier=1.0

# Manual charge amount
manualChargeAmount=1000
```

### Experience Tank Config (experience_tank_config.cfg)

```properties
# Enable experience tank system
enabled=true

# XP extraction rate (max XP extracted per time)
xpExtractionRate=20

# XP extraction range (blocks)
xpExtractionRange=5.0

# Extract XP from bottle items
extractXpBottles=true

# Enable mending
mendingOn=true

# Mend player items
mendPlayerItems=true

# Enable overflow protection (convert to bottles when full)
enableOverflowBottles=true

# Enable auto pumping
enableAutoPumping=true

# Pumping interval (ticks)
pumpingInterval=5

# Mending interval (ticks)
mendingInterval=20

# Extraction interval (ticks)
extractionInterval=4

# Default pump mode (0=off 1=extract 2=inject)
defaultPumpMode=0

# Default retain level
defaultRetainLevel=1

# Default mending mode
defaultMendingMode=true

# Max tank level limit
maxTankLevelLimit=20

# Enable special tanks (100/500/1000/2000 level)
enableSpecialTanks=true

# XP to bottle efficiency
xpToBottleEfficiency=1.0

# Mending efficiency
xpMendingEfficiency=1.0
```

### Experience Pump Controller Config (pump_controller_config.cfg)

```properties
# Max managed tanks
maxManagedTanks=32
```

---

## ğŸ”¬ Technical Architecture

### Design Patterns

- **Singleton Pattern** - ExperiencePumpController, RingDetectionSystem
- **Builder Pattern** - RingDetectionResult.Builder
- **Strategy Pattern** - Three working modes of experience pump
- **Observer Pattern** - Forge event bus
- **Capability Pattern** - Forge Capability system

### Core Technology Stack

| Technology | Implementation |
|------------|----------------|
| Data Persistence | NBT + Forge Capability |
| Network Communication | SimpleNetworkWrapper |
| GUI Rendering | Minecraft GUI System |
| Configuration Management | Forge Configuration API |
| Integration Method | Reflection + @Optional Interface |
| Item Filtering | Black/white list + 9-slot GUI |
| Experience Calculation | Minecraft Official Formula |

---

## ğŸ”§ Development Guide

### Build Project

```bash
# Clone repository
git clone https://github.com/bsyj/rsring.git

# Setup development environment
gradlew setupDecompWorkspace

# Generate Eclipse project
gradlew eclipse

# Or generate IntelliJ project
gradlew genIntellijRuns

# Build project
gradlew build

# Build output location
build/libs/rsring-1.4.0.jar
```

### Code Standards

Project follows these development standards:
- SOLID design principles
- Thread safety (ConcurrentHashMap, CopyOnWriteArrayList, etc.)
- Comprehensive exception handling
- Performance optimization (avoid high complexity algorithms, use caching)
- Client-server compatibility guarantee

---

## ğŸ› FAQ

### Q: K key not working?
**A**: Check if another mod uses the K key, you can rebind it in settings.

### Q: Controller shows "No Tanks"?
**A**: Ensure tanks are in inventory, hand, or Baubles slots. The controller will auto-detect.

### Q: Experience lost after tank upgrade?
**A**: This issue was fixed in version 1.1. Experience is preserved during upgrades.

### Q: Ring K key not working in Baubles slot?
**A**: Ensure Baubles mod 1.5.2 or higher is installed.

### Q: How to configure default black/white list?
**A**: Edit config file `.minecraft/config/rsring/ring_config.cfg`, add item registry names.

### Q: What happens when XP tank is full?
**A**: If overflow protection is enabled, excess XP will convert to XP bottles and drop.

### Q: How is ring energy consumption calculated?
**A**: Each item transfer consumes `energyCostPerItem Ã— energyCostMultiplier` FE, configurable.

### Q: What happens when RS network is full?
**A**: Items remain in place when RS network is full, won't be absorbed, preventing item loss.

---

## ğŸ“œ License

This project is licensed under the MIT License.

---

## ğŸ™ Credits

- **Azanor** - Baubles mod author, provided accessory slot API
- **Lothrazar** - Cyclic mod author, provided GUI textures and layout reference
- **SophisticatedBackpacks** - Provided XP calculation logic reference
- **Minecraft Forge Team** - Provided mod development framework

---

## ğŸ“š Related Documentation

- [Changelog](CHANGELOG-RSRING.md) - Detailed version history
- [Quick Test Guide](QUICK-TEST-GUIDE.md) - Testing guide
- [Project Status](PROJECT-STATUS.md) - Development status

---

## ğŸ“® Feedback

If you find issues or have suggestions, please provide feedback via:

1. **GitHub Issues** - Submit bug reports
2. Provide the following information:
   - Detailed problem description
   - Reproduction steps
   - Log file (`logs/latest.log`)
   - Screenshots/videos (if possible)
   - Mod list

---

## ğŸ”— Links

- **GitHub Repository**: https://github.com/bsyj/rsring
- **Issue Tracker**: https://github.com/bsyj/rsring/issues

---

<div align="center">

**Enjoy the game!** ğŸ®

</div>

</div>
